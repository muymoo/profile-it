<h1 class="page-header">Profile Queries</h1>
<p>Select queries and click the "Run Profiler" button to generate a low-level flame graph of Mongo DB function calls.</p>

<div class="row">
    <div class="col-lg-6">
        <h2 class="sub-header">10 Second Profiler</h2>
         <label class="checkbox">
            <input type="checkbox" ng-model="queries.findWI">
            Find All Zip Codes in WI
        </label>
        <label class="checkbox">
            <input type="checkbox" ng-model="queries.findWIMultiple">
            Find All Zip Codes in WI (loop 10 times)
        </label>
        <label class="checkbox">
            <input type="checkbox" ng-model="queries.findRange">
            Find All Zip Codes between 20000 and 50000
        </label>
        <label class="checkbox">
            <input type="checkbox" ng-model="queries.addMore">
            Add 10,000 More Zip Codes
        </label>
        <label class="checkbox">
            <input type="checkbox" ng-model="queries.findAverage">
            Find average population for each city
        </label>
        <button class="btn btn-sm btn-primary" type="button" ng-click="profile()">Run Profiler</button>
    </div>
</div>
<div class="row">
    <div class="col-lg-6">
        <h2 class="sub-header">Flame Graph</h2>
        <progressbar ng-class="progress.value !== 100 ? 'progress-striped active': ''" max="100"
                     value="progress.value"
                     type="success"><i><span
                ng-hide="progress.value < 5">{{progress.state}}</span></bar></i>
        </progressbar>
    </div>
</div>
<div class="row">
    <object ng-if="result.flamegraph" data="{{result.flamegraph}}" type="image/svg+xml"></object>
</div>
